"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const http_status_1 = __importDefault(require("http-status"));
const formatSuccess_1 = __importDefault(require("../../express/responses/formatSuccess"));
function restoreVersion(globalConfig) {
    async function handler(req, res, next) {
        const options = {
            req,
            globalConfig,
            id: req.params.id,
            depth: req.query.depth,
        };
        try {
            const doc = await this.operations.globals.restoreVersion(options);
            return res.status(http_status_1.default.OK).json({
                ...(0, formatSuccess_1.default)('Restored successfully.', 'message'),
                doc,
            });
        }
        catch (error) {
            return next(error);
        }
    }
    const restoreVersionHandler = handler.bind(this);
    return restoreVersionHandler;
}
exports.default = restoreVersion;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzdG9yZVZlcnNpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvZ2xvYmFscy9yZXF1ZXN0SGFuZGxlcnMvcmVzdG9yZVZlcnNpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSw4REFBcUM7QUFDckMsMEZBQTBFO0FBSzFFLFNBQXdCLGNBQWMsQ0FBQyxZQUFtQztJQUN4RSxLQUFLLFVBQVUsT0FBTyxDQUFDLEdBQW1CLEVBQUUsR0FBYSxFQUFFLElBQWtCO1FBQzNFLE1BQU0sT0FBTyxHQUFHO1lBQ2QsR0FBRztZQUNILFlBQVk7WUFDWixFQUFFLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQ2pCLEtBQUssRUFBRSxHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUs7U0FDdkIsQ0FBQztRQUVGLElBQUk7WUFDRixNQUFNLEdBQUcsR0FBRyxNQUFNLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNsRSxPQUFPLEdBQUcsQ0FBQyxNQUFNLENBQUMscUJBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUM7Z0JBQ3BDLEdBQUcsSUFBQSx1QkFBcUIsRUFBQyx3QkFBd0IsRUFBRSxTQUFTLENBQUM7Z0JBQzdELEdBQUc7YUFDSixDQUFDLENBQUM7U0FDSjtRQUFDLE9BQU8sS0FBSyxFQUFFO1lBQ2QsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDcEI7SUFDSCxDQUFDO0lBRUQsTUFBTSxxQkFBcUIsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2pELE9BQU8scUJBQXFCLENBQUM7QUFDL0IsQ0FBQztBQXRCRCxpQ0FzQkMifQ==